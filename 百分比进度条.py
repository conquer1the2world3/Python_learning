import time

# 循环101次，从0到100，模拟0%到100%的进度
for i in range(101): 
    
    # 1. 构造进度条的图形部分
    #    - i // 2:  因为总长度是50，所以用百分比 i 除以 2 来计算'='的数量。
    #    - '=' * (i // 2): 创建表示"已完成"部分的字符串。
    #    - ' ' * (50 - i // 2): 创建表示"未完成"部分的字符串。
    #    - [...] : 将两部分用方括号括起来。
    bar = '[' + '=' * (i // 2) + ' ' * (50 - i // 2) + ']'
    
    # 2. 打印进度条和百分比
    #    - \r: 这是关键！'\r'是回车符，它让光标回到当前行的开头。
    #    - {bar}: 插入上面构造好的进度条字符串。
    #    - {i:3}%: 格式化输出百分比。:3 确保数字始终占据3个字符位宽（不足则补空格），
    #              这样1%、10%、100%就能对齐，防止进度条抖动。
    #    - end='': 告诉print函数不要在末尾添加换行符，这样下次打印才能覆盖当前行。
    #    - flush=True: 立即将内容刷新到屏幕上，而不是等待缓冲区满了再输出。
    print(f"\r{bar} {i:3}%", end='', flush=True)
    
    # 3. 暂停一小段时间，以便人眼能看到变化
    time.sleep(0.05)

# 4. 循环结束后，打印一个换行符，让光标移到新的一行，
#    避免后续的输出覆盖掉100%的进度条。
print()